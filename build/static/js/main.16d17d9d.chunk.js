(this.webpackJsonprefinder=this.webpackJsonprefinder||[]).push([[0],{14:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(5),o=n.n(r),c=(n(14),n(3)),s=n(6),i=n(7),d=n(9),l=n(8),u=n(2),h=n.n(u),p=n(0),b=new h.a({apiKey:"keywMvCl7aRV4a5af"}).base("appaZPyyxt98aRiRU").table("Media"),j=new h.a({apiKey:"keywMvCl7aRV4a5af"}).base("appaZPyyxt98aRiRU").table("Ratings"),f=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).rate=function(t){console.log("Rating "+e.props.name+" with a "+t),b.update(e.props.id,{Reading:!1}).then((function(e){console.log(e)})),j.create({fields:{Record:[e.props.id],Rating:t.toString()}}).then((function(t){console.log(t),e.props.reRun()}))},e.open=function(){console.log("Marking "+e.props.name+" as reading");window.open;b.update(e.props.id,{Reading:!0}).then((function(t){console.log(t),window.open(e.URL)}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"pb-2",children:[Object(p.jsx)("a",{className:"rounded-lg px-2 py-2 border active:border-gray-500 m-2 text-center focus:outline-none shadow hover:shadow-md active:shadow-sm",href:"https://airtable.com/tblYG0PIvW9GELAvH/viwsdszRgNFdNL83F/"+this.props.id,children:"Airtable"}),Object(p.jsx)("a",{className:"rounded-lg px-2 py-2 border active:border-gray-500 m-2 text-center focus:outline-none shadow hover:shadow-md active:shadow-sm",href:this.props.URL,children:"Open in Safari"})]}),Object(p.jsx)("a",{href:this.props.URL,children:Object(p.jsx)("button",{onClick:function(){return e.open()},className:"shadow-md hover:shadow-lg active:border-gray-500 group block rounded-lg p-4 border hover:border-gray-200 m-2 text-left justify-left text-justify",children:Object(p.jsxs)("div",{className:"p-3 grid",children:[Object(p.jsx)("div",{className:"font-medium text-black text-xl pb-2",children:this.props.name}),Object(p.jsx)("div",{className:"leading-5 text-sm",children:this.props.excerpt})]})})}),Object(p.jsx)("div",{className:"grid",children:Object(p.jsx)("button",{onClick:function(){return e.rate(1)},className:"rounded-lg px-2 py-1 border active:border-gray-500 m-2 text-center focus:outline-none shadow hover:shadow-md active:shadow-sm",children:"Next"})}),Object(p.jsxs)("div",{className:"grid grid-rows-1 grid-cols-2",children:[Object(p.jsx)("button",{className:"rounded-lg px-2 py-1 border active:border-gray-500 m-2 text-center focus:outline-none shadow hover:shadow-md active:shadow-sm",onClick:function(){return e.rate(2)},children:"Cultivate"}),Object(p.jsx)("button",{className:"rounded-lg px-2 py-1 border active:border-gray-500 m-2 text-center focus:outline-none shadow hover:shadow-md active:shadow-sm",onClick:function(){return e.rate(3)},children:"Curate"})]})]})}}]),n}(a.Component),m=new h.a({apiKey:"keywMvCl7aRV4a5af"}).base("appaZPyyxt98aRiRU").table("Media");function g(e){var t=Object(a.useState)({}),n=Object(c.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){m.list({maxRecords:999,pageSize:100,view:"Articles",cellFormat:"json"}).then((function(e){o(e.records)})).catch((function(e){console.log(e)}))}),[]),console.log(r),function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}}(r),console.log("Testing "+e.cycle),Object(p.jsx)("div",{className:"justify-center max-w-lg m-5 w-full",children:Object(p.jsx)("ul",{children:r.length>0?r.sort((function(e,t){return t.fields.SelectionWeight-e.fields.SelectionWeight})).slice(0,1).map((function(t){return Object(p.jsx)(f,{name:t.fields.Name,excerpt:t.fields.Excerpt,id:t.id,reRun:e.reRun,URL:t.fields.URL},t.id)})):Object(p.jsx)("p",{children:"Fetching Data..."})})})}var x=function(e){var t=Object(a.useState)({}),n=Object(c.a)(t,2),r=n[0],o=n[1];return console.log(r),Object(p.jsx)("div",{className:"grid mx-auto max-w-3xl",children:Object(p.jsx)("div",{className:"grid place-items-center",children:Object(p.jsx)(g,{filter:"False",reRun:o})})})};o.a.render(Object(p.jsx)(x,{tasks:[]}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.16d17d9d.chunk.js.map