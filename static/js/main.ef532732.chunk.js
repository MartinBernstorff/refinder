(this.webpackJsonprefinder=this.webpackJsonprefinder||[]).push([[0],{15:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(6),c=n.n(a),o=(n(15),n(3)),i=n(7),s=n(8),l=n(10),d=n(9),u=n(2),p=n.n(u),g=(n(28),n(0));function f(e){return Object(g.jsx)("a",{className:"rounded-lg px-2 py-2 border border-gray-100 active:border-gray-200 text-center focus:outline-none hover:shadow-md active:shadow-sm place-content-center text-gray-200 text-sm",href:e.href,children:e.title})}var b=new p.a({apiKey:"keywMvCl7aRV4a5af"}).base("appaZPyyxt98aRiRU").table("Media"),x=new p.a({apiKey:"keywMvCl7aRV4a5af"}).base("appaZPyyxt98aRiRU").table("Ratings"),j=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).URL=e.props.URL,e.rate=function(t){console.log("Rating "+e.props.name+" with a "+t),b.update(e.props.id,{Reading:!1}).then((function(e){console.log(e)})),x.create({fields:{Record:[e.props.id],Rating:t.toString()}}).then((function(t){console.log(t),e.props.reRun()}))},e.markReading=function(){b.update(e.props.id,{Reading:!0}).then((function(e){console.log(e)})),document.getElementById("reading").style.borderColor="green"},e.open=function(){console.log("Marking "+e.props.name+" as reading"),b.update(e.props.id,{Reading:!0}).then((function(t){console.log(t),window.location(e.URL)}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"grid gap-2 rounded-lg p-4 text-left justify-left text-justify",children:[Object(g.jsx)("a",{href:this.URL,children:Object(g.jsx)("button",{onClick:function(){return e.open()},className:"active:border-gray-500 group block rounded-lg hover:border-gray-200 text-left justify-left text-justify",children:Object(g.jsxs)("div",{className:"p-1 grid",children:[Object(g.jsx)("div",{className:"font-medium text-black text-xl pb-2",children:this.props.name}),Object(g.jsx)("div",{className:"leading-5 text-sm",children:this.props.excerpt})]})})}),Object(g.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[Object(g.jsx)(f,{href:"https://airtable.com/tblYG0PIvW9GELAvH/viwsdszRgNFdNL83F/"+this.props.id,title:"Airtable"}),Object(g.jsx)(f,{href:this.URL,title:"Safari"}),Object(g.jsx)("button",{onClick:function(){return e.markReading()},className:"rounded-lg px-0 py-0 border active:border-gray-500 text-center focus:outline-none place-content-center text-sm ".concat(this.props.reading?"border-green-500 text-gray-400":"text-gray-200"),id:"reading",children:"Reading"}),Object(g.jsx)("button",{onClick:function(){return e.rate(1)},className:"rounded-lg px-1 py-1 border active:border-gray-500 text-center focus:outline-none place-content-center text-xs",children:"0"}),Object(g.jsx)("button",{className:"rounded-lg px-1 py-1 border active:border-gray-500 text-center focus:outline-none place-content-center text-xs",onClick:function(){return e.rate(2)},children:"+"}),Object(g.jsx)("button",{className:"rounded-lg px-1 py-1 border active:border-gray-500 text-center focus:outline-none place-content-center text-xs",onClick:function(){return e.rate(3)},children:"++"})]})]})}}]),n}(r.Component),h=new p.a({apiKey:"keywMvCl7aRV4a5af"}).base("appaZPyyxt98aRiRU").table("Media");function m(e){var t=Object(r.useState)({}),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){h.list({maxRecords:999,pageSize:100,view:"Articles",cellFormat:"json"}).then((function(e){c(e.records)})).catch((function(e){console.log(e)}))}),[]),console.log(a),function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}}(a),console.log("Testing "+e.cycle),Object(g.jsx)("div",{className:"gap-3 grid w-full grid-cols-2",children:a.length>0?a.sort((function(e,t){return t.fields.SelectionWeight-e.fields.SelectionWeight})).slice(0,4).map((function(t){return Object(g.jsx)(j,{name:t.fields.Name,excerpt:t.fields.Excerpt,id:t.id,reRun:e.reRun,URL:t.fields.URL,reading:t.fields.Reading},t.id)})):Object(g.jsx)("p",{children:"Fetching Data..."})})}var y=function(e){var t=Object(r.useState)({}),n=Object(o.a)(t,2),a=n[0],c=n[1];return console.log(a),Object(g.jsx)("div",{className:"grid mx-auto max-w-5xl mt-2",children:Object(g.jsx)(m,{filter:"False",reRun:c})})};c.a.render(Object(g.jsx)(y,{tasks:[]}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.ef532732.chunk.js.map